// 2 3 4 
Game.Internal_Map = [[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,1,1,1,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,1,1,1,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,2,2,2,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,2,2,1,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,2,2,2,2,2,0,0,1,1,1,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,2,2,2,2,2,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,2,2,2,2,2,2,2,2,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,2,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,2,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,2,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,2,2,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,2,2,2,2,2,2,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,3],
[3,2,2,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,1,1,1,1,1,0,0,0,0,0,3],
[3,2,2,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,1,1,1,1,1,0,0,0,0,0,3],
[3,2,2,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,2,2,2,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,2,2,1,1,2,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,2,2,1,1,2,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,0,0,0,0,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,0,0,0,0,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,2,2,1,1,2,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,0,0,0,0,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,2,2,1,1,2,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]]


// Game scene
// -------------
// Runs the core gameplay loop
Crafty.scene('Game', function() {
  // A 2D array to keep track of all occupied tiles
  this.occupied = new Array(Game.map_grid.width);
  for (var i = 0; i < Game.map_grid.width; i++) {
    this.occupied[i] = new Array(Game.map_grid.height);
    for (var y = 0; y < Game.map_grid.height; y++) {
      this.occupied[i][y] = false;
    }
  }

  // Player character, placed at 5, 5 on our grid
  this.player = Crafty.e('PlayerCharacter').at(5, 12);

  if (this.player.x >= (Game.screen_view.width / 2))
  {
    Crafty.viewport.x = (this.player.x - (Game.screen_view.width / 2)) * -1;
  }
  if (this.player.y >= (Game.screen_view.height / 2))
  {
    Crafty.viewport.y = (this.player.y - (Game.screen_view.height / 2)) * -1;
  }


  this.occupied[this.player.at().x][this.player.at().y] = true;

  // Place a tree at every edge square on our grid of 16x16 tiles
  for (var x = 0; x < Game.map_grid.width; x++) {
    for (var y = 0; y < Game.map_grid.height; y++) {



      var at_edge = x == 0 || x == Game.map_grid.width - 1 || y == 0 || y == Game.map_grid.height - 1;

      if (at_edge) {
        // Place a tree entity at the current tile
        //Crafty.e('Tree').at(x, y)
        this.occupied[x][y] = true;
      } else if (Math.random() < 0.06 && !this.occupied[x][y]) {
        // Place a bush entity at the current tile

      }
    }
  }



  
  Game.edge_map = {
      "A" : {
          'loc': [1,12],
          'edges': ['B']
        },
      "B": {
        'loc': [11,12],
        'edges': ['A', 'C']  
        },
      "C": {
          'loc': [16,12],
          'edges': ['B', 'I2', 'D']
      },
      "D": {
          'loc': [12,22],
          'edges': ['E', 'C', 'F']
      },
      "E": {
          'loc': [2,22],
          'edges': ['D']
      },
      "F": {
          'loc': [13,33],
          'edges': ['G','D','H', 'K']
      },
      "G" :{
          'loc':[5,33],
          'edges':['F']
      },
      "H":{
          'loc':[29,32],
          'edges':['F','I']
      },
      "I":{
          'loc':[29,38],
          'edges': ['J','Q','P']
      },
      "J": {
          'loc':[19,38],
          'edges':['K','I','Q','P']
      },
      "K":{
          'loc': [14,38],
          'edges':['F','J','L']
      },
      "L":{
          'loc':[14,50],
          'edges': ['K','M']
      },
      "M":{
          'loc':[15,60],
          'edges': ['L','N']
      },
      "N":{
          'loc':[25,60],
          'edges': ['M', "O"]
      },
      "O":{
          'loc':[36,60],
          'edges':['N', 'P', 'S']
      },
      "P":{
          'loc':[35,51],
          'edges':['J','I','Q','O']
          
      },
      "Q":{
          'loc':[48,51],
          'edges':['P','J','I']
      },
      "R":{
        'loc': [65,51],
        'edges':['Q','V','U','T','S']
      },
      "S":{
          'loc':[65,60],
          'edges':['O','R','V','U','T']
      },
      "T":{
          'loc':[74, 60],
          'edges':['S','R','V','U','T']
      },
      "U":{
          'loc':[74, 51],
          'edges':['R','V','T','S']
      },
      'V':{
          'loc':[73,50],
          'edges':['R','U','T','S']
      },
      'W':{
          'loc':[73,30],
          'edges':['X','Y']
      },
      'X':{
          'loc':[65,28],
          'edges':['X2', 'W']
      },
      'X2':{
        'loc': [65,24],
        'edges':['G2','C2','D2']
        },
      'Y':{
          'loc':[81,30],
          'edges':['W','Z','B2']
      },
      'Z':{
          'loc':[85,31],
          'edges': ['A2','Y', 'B2']
      },
     'A2':{
          'loc': [85,60],
          'edges':['T','Z']
      },
      'B2':{
          'loc': [81,24],
          'edges':['C2','Y', 'Z']
      },
      'C2':{
          'loc': [75,23],
          'edges':['G2', 'D2','B2']
      },
      'D2':{
          'loc':[71,9],
          'edges':['E2','C2', 'X2']
      },
      'E2':{
          'loc': [48,10],
          'edges':['F2','D2']
      },
     'F2': {
         'loc': [42,11],
         'edges': ['G2', 'H2', 'E2']
     },
    'G2': {
        'loc': [43,22],
        'edges': ['F2','C2', 'X2']
    },
    'H2':{
        'loc': [39,9],
        'edges': ['I2', 'F2']
    },
    'I2':{
        'loc': [18, 10],
        'edges': ['C', 'H2']
    }
      
  }


   /// Testing out the moject manager stuff 
  console.log(Game.edge_map.A.loc[1])
  im_x = Game.edge_map.B.loc[0]
  im_y = Game.edge_map.B.loc[1]
  Crafty.e('Project_Manager').setPosition("B")
  
  

  createRoom(17,20,52,55, doorPosition = "BOTTOMLEFT") // 3243
  createRoom(21,24,52,55, doorPosition = "RIGHTBOTTOM") // My office 
  createRoom(21,24,55,58, doorPosition = "RIGHTTOP")// Micheal Office 

  createRoom(23,25,61, 64, doorPosition = 'TOPLEFT') // 3246
  createRoom(20,22,61, 64, doorPosition = 'TOPRIGHT') // 3247
  createRoom(17,19,61, 64, doorPosition = 'TOPLEFT') // 3249
  createRoom(14,16,61, 64, doorPosition = 'TOPLEFT') // 3250
  createRoom(11,13,59, 64, doorPosition = 'RIGHTTOP') // 3252 Sandys OFfice 

  createRoom(11,13,56, 59, doorPosition = 'RIGHTTOP') // 3253
  createRoom(11,13,53, 56, doorPosition = 'RIGHTBOTTOM') // 3255
  createRoom(11,13,50, 53, doorPosition = 'RIGHTTOP') // 3257


  createRoom(17,20,49, 52, doorPosition = 'LEFTBOTTOM') // 3256
  createRoom(15,18,46, 49, doorPosition = 'BOTTOMLEFT') // 3258 
  createRoom(15,18,43, 46, doorPosition = 'LEFTBOTTOM') /// 3260
  createRoom(15,18,40, 43, doorPosition = 'LEFTBOTTOM') /// 3262



  createRoom(11,12,46, 50, doorPosition = 'RIGHTTOP') // 3259
  createRoom(11,12,43, 46, doorPosition = 'RIGHTTOP') // 3259
  createRoom(11,12,39, 43, doorPosition = 'RIGHTTOP') // 3261
  createRoom(11,12,34, 39, doorPosition = 'RIGHTTOP') // 3263

  
  createRoom(15,17,34, 37, doorPosition = 'TOPRIGHT') /// 3144  
  createRoom(18,20,34, 37, doorPosition = 'TOPLEFT') /// 3142 
  createRoom(21,23,34, 37, doorPosition = 'TOPLEFT') /// 3141
  createRoom(24,26,34, 37, doorPosition = 'TOPRIGHT') /// 3138 

  /// Bottom wall of idr
  createFrontWall(0,34)
  createFrontWall(1,34)
  createFrontWall(2,34)
  createFrontWall(3,34)
  createFrontWall(4,34)
  createFrontWall(5,34)
  createFrontWall(6,34)
  createFrontWall(7,34)
  createFrontWall(8,34)
  createFrontWall(9,34)
  createFrontWall(10,34)


  createRoom(14,16,28, 31, doorPosition = 'BOTTOMLEFT') ///3145
  createRoom(17,20,25, 28, doorPosition = 'BOTTOMLEFT') ///3143
  createRoom(21,23,27, 30, doorPosition = 'BOTTOMLEFT') ///3140
  createRoom(24,26,28, 31, doorPosition = 'BOTTOMLEFT') ///3139
  createRoom(27,30,28, 31, doorPosition = 'BOTTOMLEFT') ///3136


  createRoom(8,10,28, 31, doorPosition = 'RIGHTBOTTOM') ///3147
  createRoom(5,7,28, 31, doorPosition = 'BOTTOMLEFT') ///3148
  createRoom(1,4,28, 31, doorPosition = 'BOTTOMRIGHT') ///3149
  createRoom(1,3,31, 34, doorPosition = 'RIGHTBOTTOM') ///3150



  createRoom(15,16,25, 28, doorPosition = 'LEFTTOP') ///3153
  createRoom(15,17,22, 25, doorPosition = 'LEFTBOTTOM') ///3157
  createRoom(15,17,19, 22, doorPosition = 'LEFTTOP') ///3158A
  createRoom(16,18,16, 19, doorPosition = 'LEFTBOTTOM') ///3158B
  createRoom(17,19,13, 16, doorPosition = 'LEFTBOTTOM') ///3159A
  createRoom(19,22,10, 13, doorPosition = 'LEFTBOTTOM') ///3159B



  createRoom(7,9,23, 28, doorPosition = 'TOPRIGHT') ///3154
  createRoom(3,6,25, 28, doorPosition = 'TOPRIGHT') ///3155
  createRoom(6,9,17, 20, doorPosition = 'RIGHTBOTTOM') ///3156
  createRoom(10,11,14, 18, doorPosition = 'RIGHTBOTTOM') ///B32b

  createRoom(11,13,8, 11, doorPosition = 'BOTTOMLEFT') ///3271
  createRoom(8,10,8, 11, doorPosition = 'BOTTOMLEFT') ///3269
  createRoom(5,7,7, 10, doorPosition = 'BOTTOMLEFT') ///3268
  createRoom(2,7,2, 7, doorPosition = 'BOTTOMLEFT') ///3267
  createRoom(1,2,7, 10, doorPosition = 'RIGHTBOTTOM') ///3267

  createRoom(14,16,6, 9, doorPosition = 'BOTTOMLEFT') ///3272
  createRoom(17,20,2, 7, doorPosition = 'BOTTOMRIGHT') ///3267
  createRoom(21,25,2, 7, doorPosition = 'BOTTOMRIGHT') ///3274
  createRoom(26,28,2, 7, doorPosition = 'BOTTOMRIGHT') ///3275
  createRoom(29,31,2, 7, doorPosition = 'BOTTOMLEFT') ///3276
  createRoom(32,35,2, 7, doorPosition = 'BOTTOMRIGHT') ///3277
  createRoom(36,38,2, 7, doorPosition = 'BOTTOMRIGHT') ///3278
  createRoom(39,42,2, 7, doorPosition = 'BOTTOMLEFT') ///3279
  createRoom(43,46,2, 9, doorPosition = 'LEFTBOTTOM') ///3280
  createRoom(47,50,2, 7, doorPosition = 'BOTTOMLEFT') ///3281



  createRoom(23,25,10, 13, doorPosition = 'TOPLEFT') ///3161
  createRoom(26,28,10, 13, doorPosition = 'TOPRIGHT') ///3162
  createRoom(29,31,10, 13, doorPosition = 'TOPLEFT') ///3163
  createRoom(32,34,10, 13, doorPosition = 'TOPRIGHT') ///3164
  createRoom(35,37,10, 13, doorPosition = 'TOPLEFT') ///3165

  createRoom(37,39,13, 17, doorPosition = 'TOPRIGHT') ///3166
  createRoom(38,40,17, 20, doorPosition = 'RIGHTTOP') ///3169
  createRoom(37,41,20, 28, doorPosition = 'RIGHTTOP') ///3171


  createRoom(44,47,12, 16, doorPosition = 'LEFTTOP') ///3167
  createRoom(45,48,16, 19, doorPosition = 'LEFTTOP') ///3168

  createRoom(48,52,11, 14, doorPosition = 'TOPLEFT') ///3283
  createRoom(53,56,11, 14, doorPosition = 'TOPRIGHT') ///3284
  createRoom(57,59,11, 15, doorPosition = 'TOPLEFT') ///3284A
  createRoom(60,63,11, 14, doorPosition = 'TOPRIGHT') ///3285
  createRoom(64,66,11, 14, doorPosition = 'TOPRIGHT') ///3287
  createRoom(67,69,11, 14, doorPosition = 'TOPLEFT') ///3289

  createRoom(59,62,2, 7, doorPosition = 'BOTTOMRIGHT') ///3285
  createRoom(63,66,2, 7, doorPosition = 'BOTTOMRIGHT') ///3286
  createRoom(67,75,2, 7, doorPosition = 'BOTTOMLEFT') ///3288
  createRoom(76,79,2, 7, doorPosition = 'BOTTOMRIGHT') ///3290
  createRoom(80,83,2, 9, doorPosition = 'LEFTBOTTOM') ///3291

  createRoom(80,83,9, 13, doorPosition = 'LEFTTOP') ///3292
  createRoom(80,83,13, 16, doorPosition = 'LEFTTOP') ///3293
  createRoom(80,83,16, 19, doorPosition = 'LEFTBOTTOM') ///3294
  createRoom(80,83,19, 22, doorPosition = 'LEFTTOP') ///3295
  createRoom(76,79,19, 22, doorPosition = 'TOPRIGHT') ///3296


  createRoom(31,35,30, 37, doorPosition = 'LEFTBOTTOM') ///3131A
  createRoom(36,40,34, 41, doorPosition = 'LEFTBOTTOM') ///3131B

  createRoom(41,44,40, 45, doorPosition = 'LEFTBOTTOM') ///3130
  createRoom(45,47,41, 48, doorPosition = 'LEFTBOTTOM') ///3129

  createRoom(37,39,61, 64, doorPosition = 'TOPRIGHT') ///3240
  createRoom(40,43,61, 64, doorPosition = 'TOPRIGHT') ///3239
  createRoom(44,47,61, 64, doorPosition = 'TOPRIGHT') ///3235
  createRoom(48,51,61, 64, doorPosition = 'TOPRIGHT') ///3234
  createRoom(52,55,61, 64, doorPosition = 'TOPRIGHT') ///3231
  createRoom(56,59,61, 64, doorPosition = 'TOPRIGHT') ///3230

  createRoom(60,63,61, 64, doorPosition = 'TOPLEFT') ///3228
  createRoom(64,67,61, 64, doorPosition = 'TOPRIGHT') ///3227
  createRoom(68,71,61, 64, doorPosition = 'TOPLEFT') ///3226
  createRoom(72,75,61, 64, doorPosition = 'TOPRIGHT') ///3225
  createRoom(76,79,61, 64, doorPosition = 'TOPLEFT') ///3224
  createRoom(80,83,61, 64, doorPosition = 'TOPRIGHT') ///3222
  createRoom(84,87,61, 64, doorPosition = 'TOPLEFT') ///3221
  createRoom(88,91,58, 64, doorPosition = 'LEFTTOP') ///3219


  createRoom(37,41,52, 55, doorPosition = 'LEFTBOTTOM') ///3242
  createRoom(37,41,55, 58, doorPosition = 'LEFTTOP') ///3241
  createRoom(42,44,52, 58, doorPosition = 'BOTTOMRIGHT') ///3238
  createRoom(45,49,55, 58, doorPosition = 'BOTTOMRIGHT') ///3236
  createRoom(50,53,55, 58, doorPosition = 'BOTTOMRIGHT') ///3233
  createRoom(54,57,55, 58, doorPosition = 'BOTTOMLEFT') ///3232
  createRoom(58,61,55, 58, doorPosition = 'BOTTOMLEFT') ///3229

  createRoom(75,78,55, 58, doorPosition = 'BOTTOMLEFT') ///3223
  createRoom(79,82,55, 58, doorPosition = 'RIGHTBOTTOM') ///3223


  createRoom(45,49,52, 55, doorPosition = 'TOPRIGHT') ///3125
  createRoom(50,53,52, 55, doorPosition = 'TOPRIGHT') ///3124
  createRoom(54,57,52, 55, doorPosition = 'TOPLEFT') ///3121
  createRoom(58,63,52, 55, doorPosition = 'TOPLEFT') ///3119
  
  createRoom(75,78,52, 55, doorPosition = 'TOPLEFT') ///3115
  createRoom(79,82,52, 55, doorPosition = 'TOPRIGHT') ///3216

  createRoom(48,50,45, 49, doorPosition = 'BOTTOMLEFT') ///3226
  createRoom(51,53,45, 49, doorPosition = 'BOTTOMLEFT') ///3223
  createRoom(54,56,45, 49, doorPosition = 'BOTTOMLEFT') ///3222
  createRoom(57,59,45, 49, doorPosition = 'BOTTOMLEFT') ///3220
  createRoom(60,62,45, 49, doorPosition = 'BOTTOMLEFT') ///3118
  createRoom(63,65,45, 49, doorPosition = 'BOTTOMLEFT') ///3117
  createRoom(66,68,45, 49, doorPosition = 'BOTTOMLEFT') ///3116
  createRoom(69,71,45, 49, doorPosition = 'BOTTOMLEFT') ///3112

  createRoom(68,71,31, 34, doorPosition = 'RIGHTTOP') ///3103
  createRoom(68,71,34, 38, doorPosition = 'RIGHTBOTTOM') ///3106
  createRoom(68,71,38, 42, doorPosition = 'RIGHTBOTTOM') ///3109
  createRoom(66,71,42, 45, doorPosition = 'RIGHTBOTTOM') ///3111


  createRoom(75,78,31, 34, doorPosition = 'LEFTBOTTOM') ///3104
  createRoom(79,82,31, 34, doorPosition = 'RIGHTTOP') ///3204
  createRoom(79,82,34, 40, doorPosition = 'RIGHTBOTTOM') ///3209
  createRoom(75,78,34, 37, doorPosition = 'LEFTBOTTOM') ///3107
  createRoom(75,78,37, 40, doorPosition = 'LEFTBOTTOM') ///3108
  createRoom(75,78,40, 43, doorPosition = 'LEFTBOTTOM') ///3110
  createRoom(79,82,40, 43, doorPosition = 'RIGHTTOP') ///3211
  createRoom(75,78,43, 46, doorPosition = 'LEFTBOTTOM') ///3113
  createRoom(79,82,43, 46, doorPosition = 'RIGHTTOP') ///3212
  createRoom(75,78,46, 49, doorPosition = 'LEFTBOTTOM') ///3114
  createRoom(79,82,46, 49, doorPosition = 'BOTTOMLEFT') ///copyroom


  createRoom(64,67,30, 33, doorPosition = 'TOPRIGHT') ///3102
  createRoom(60,63,27, 31, doorPosition = 'RIGHTTOP') ///3101

  createRoom(66,69,24, 27, doorPosition = 'LEFTBOTTOM') ///3201
  createRoom(70,74,24, 27, doorPosition = 'BOTTOMLEFT') ///3202
  createRoom(75,79,25, 28, doorPosition = 'BOTTOMLEFT') ///3203


  createRoom(88,91,54, 57, doorPosition = 'LEFTTOP') ///3218
  createRoom(88,91,51, 54, doorPosition = 'LEFTTOP') ///3217
  createRoom(88,91,48, 51, doorPosition = 'LEFTBOTTOM') ///3215
  createRoom(88,91,45, 48, doorPosition = 'LEFTTOP') ///3214
  createRoom(88,91,42, 45, doorPosition = 'LEFTBOTTOM') ///3213
  createRoom(88,91,39, 42, doorPosition = 'LEFTTOP') ///3210
  createRoom(88,91,36, 39, doorPosition = 'LEFTBOTTOM') ///3208
  createRoom(88,91,33, 36, doorPosition = 'LEFTTOP') ///3207
  createRoom(88,91,30, 33, doorPosition = 'LEFTBOTTOM') ///3206

  /// Big Kitchen lines 
  createFrontWall(25,52)
  createFrontWall(26,52)
  createFrontWall(27,52)
  createFrontWall(28,52)
  createFrontWall(29,52)
  createFrontWall(30,52)
  createFrontWall(31,52)
  createFrontWall(32,52)
  createFrontWall(33,52)

  createVirticalWall(34,52)
  createVirticalWall(34,53)
  createVirticalWall(34,54)
  createVirticalWall(34,55)
  createVirticalWall(34,56)
  createVirticalWall(34,57)
  createVirticalWall(34,58)

  /// Door Test 
  //Crafty.e("Door").at(15,39)

  //Ider Walls 
  createFrontWall(1,20)
  createFrontWall(2,20)
  createFrontWall(3,20)
  createFrontWall(4,20)
  createFrontWall(5,20)

  // Back wall 
  createFrontWall(51,2)
  createFrontWall(52,2)
  createFrontWall(53,2)
  createFrontWall(54,2)
  createFrontWall(55,2)
  createFrontWall(56,2)
  createFrontWall(57,2)
  createFrontWall(58,2)

  //Right Otter walls 
  createFrontWall(84,22)
  createFrontWall(85,22)
  createFrontWall(86,22)
  createFrontWall(87,22)

  createVirticalWall(88,22)
  createVirticalWall(88,23)
  createVirticalWall(88,24)
  createVirticalWall(88,25)
  createVirticalWall(88,26)
  createVirticalWall(88,27)
  createVirticalWall(88,28)
  createVirticalWall(88,29)

  // Wall near 3171
  createFrontWall(42,28)
  createFrontWall(43,28)
  createFrontWall(44,28)
  createFrontWall(45,28)
  createFrontWall(46,28)
  createFrontWall(47,28)
  createFrontWall(48,28)
  createFrontWall(49,28)
  createFrontWall(50,28)
  createFrontWall(51,28)
  createFrontWall(52,28)
  createFrontWall(53,28)
  createFrontWall(54,28)
  createFrontWall(55,28)
  createFrontWall(56,28)
  createFrontWall(57,28)
  createFrontWall(58,28)
  createFrontWall(59,28)


  /// Create PM path 


    // Place a tree at every edge square on our grid of 16x16 tiles
  for (var x = 0; x < Game.map_grid.width; x++) {
    for (var y = 0; y < Game.map_grid.height; y++) {
      var at_edge = x == 0 || x == Game.map_grid.width - 1 || y == 0 || y == Game.map_grid.height - 1;

      if (at_edge) {
        // Place a tree entity at the current tile
        Crafty.e('Tree').at(x, y)
        this.occupied[x][y] = true;
      } else if (Math.random() < 0.06 && !this.occupied[x][y]) {
        // Place a bush entity at the current tile

      }
    }
  }


  // Play a ringing sound to indicate the start of the journey
  Crafty.audio.play('ring');

  // Show the victory screen once all villages are visisted
  this.show_victory = this.bind('VillageVisited', function() {
    if (!Crafty('Village').length) {
      Crafty.scene('Victory');
    }
  });
}, function() {
  // Remove our event binding from above so that we don't
  //  end up having multiple redundant event watchers after
  //  multiple restarts of the game
  this.unbind('VillageVisited', this.show_victory);
});


// Victory scene
// -------------
// Tells the player when they've won and lets them start a new game
Crafty.scene('Victory', function() {
  // Display some text in celebration of the victory
  Crafty.e('2D, DOM, Text')
    .text('All villages visited!')
    .attr({ x: 0, y: Game.height()/2 - 24, w: Game.width() })
    .textFont($text_css);

  // Give'em a round of applause!
  Crafty.audio.play('applause');

  // After a short delay, watch for the player to press a key, then restart
  // the game when a key is pressed
  var delay = true;
  setTimeout(function() { delay = false; }, 5000);
  this.restart_game = function() {
    if (!delay) {
      Crafty.scene('Game');
    }
  };
  Crafty.bind('KeyDown', this.restart_game);
}, function() {
  // Remove our event binding from above so that we don't
  //  end up having multiple redundant event watchers after
  //  multiple restarts of the game
  this.unbind('KeyDown', this.restart_game);
});

// Loading scene
// -------------
// Handles the loading of binary assets such as images and audio files
Crafty.scene('Loading', function(){
  // Draw some text for the player to see in case the file
  //  takes a noticeable amount of time to load
  Crafty.e('2D, DOM, Text')
    .text('Loading; please wait...')
    .attr({ x: 0, y: Game.height()/2 - 24, w: Game.width() })
    .textFont($text_css);

  // // Load our sprite map image
  // Crafty.load([
  //   'assets/16x16_forest_2.gif',
  //   'assets/hunter.png',
  //   'assets/door_knock_3x.mp3',
  //   'assets/door_knock_3x.ogg',
  //   'assets/door_knock_3x.aac',
  //   'assets/board_room_applause.mp3',
  //   'assets/board_room_applause.ogg',
  //   'assets/board_room_applause.aac',
  //   'assets/candy_dish_lid.mp3',
  //   'assets/candy_dish_lid.ogg',
  //   'assets/candy_dish_lid.aac'
  //   ], function(){
  //   // Once the images are loaded...

  //   // Define the individual sprites in the image
  //   // Each one (spr_tree, etc.) becomes a component
  //   // These components' names are prefixed with "spr_"
  //   //  to remind us that they simply cause the entity
  //   //  to be drawn with a certain sprite
  //   Crafty.sprite(16, 'assets/16x16_forest_2.gif', {
  //     spr_tree:    [0, 0],
  //     spr_bush:    [1, 0],
  //     spr_village: [0, 1],
  //     spr_rock:    [1, 1]
  //   });

  //   // Define the PC's sprite to be the first sprite in the third row of the
  //   //  animation sprite map
  //   Crafty.sprite(16, 'assets/hunter.png', {
  //     spr_player:  [0, 2],
  //   }, 0, 2);

  //   // Define our sounds for later use
  //   Crafty.audio.add({
  //     knock:    ['assets/door_knock_3x.mp3', 'assets/door_knock_3x.ogg', 'assets/door_knock_3x.aac'],
  //     applause: ['assets/board_room_applause.mp3', 'assets/board_room_applause.ogg', 'assets/board_room_applause.aac'],
  //     ring:     ['assets/candy_dish_lid.mp3', 'assets/candy_dish_lid.ogg', 'assets/candy_dish_lid.aac']
  //   });

  //   // Now that our sprites are ready to draw, start the game
  //   Crafty.scene('Game');
  // });
  Crafty.scene('Game');
});